{"version":3,"sources":["../../backend-as-a-service-client/src/useBackendAsAServiceClient.ts","../../cli-http-client/src/fetch-error.ts","../../backend-as-a-service-client/src/backend-as-a-service-client.ts","../../../node_modules/@wix/ambassador-velo-backend-v1-app-deployment/http.impl.ts","../../../node_modules/@wix/ambassador-velo-backend-v1-app-project/http.impl.ts","../../../node_modules/@wix/ambassador-velo-backend-v1-app-project/types.impl.ts","../../../node_modules/@wix/ambassador-velo-backend-v1-app-environment/http.impl.ts","../../backend-as-a-service-client/src/schemas.ts","../../../node_modules/@wix/ambassador-velo-backend-v1-app-deployment/types.impl.ts","../../backend-as-a-service-client/src/index.ts"],"sourcesContent":["import { useMemo } from 'react';\nimport { useHttpClient } from '@wix/cli-http-client-react';\nimport { usePanoramaMethodLogger } from '@wix/cli-panorama';\nimport { BackendAsAServiceClient } from './backend-as-a-service-client.js';\n\nexport function useBackendAsAServiceClient(): BackendAsAServiceClient {\n  const httpClient = useHttpClient({ type: 'backoffice' });\n  const client = useMemo(\n    () => new BackendAsAServiceClient(httpClient),\n    [httpClient]\n  );\n\n  return usePanoramaMethodLogger(client);\n}\n","import { createHttpError } from '@wix/http-client';\n\nexport async function createHttpErrorFromFetch(originalResponse: Response) {\n  const res = originalResponse.clone();\n\n  return createHttpError({\n    name: 'Error',\n    message: `Request failed with status code ${res.status}`,\n    response: {\n      config: {},\n      data: await res.text(),\n      status: res.status,\n      statusText: res.statusText,\n      headers: Object.fromEntries(res.headers as never),\n    },\n    code: res.statusText,\n    config: {},\n    toJSON: () => res,\n    __CANCEL__: false,\n  });\n}\n","import { isHttpError, createHttpErrorFromFetch } from '@wix/cli-http-client';\nimport type { HttpClient } from '@wix/cli-http-client';\nimport pRetry from 'p-retry';\nimport type { Options } from 'p-retry';\nimport kebabCase from 'lodash/kebabCase.js';\nimport { CliError, CliErrorCode } from '@wix/cli-error';\nimport { getTestOverrides } from '@wix/cli-test-overrides';\nimport {\n  createAppDeployment,\n  completeAppDeployment,\n} from '@wix/ambassador-velo-backend-v1-app-deployment/http';\nimport type {\n  StaticFileMetadata,\n  AppDeployment,\n} from '@wix/ambassador-velo-backend-v1-app-deployment/types';\nimport {\n  createAppProject,\n  getAppProject,\n} from '@wix/ambassador-velo-backend-v1-app-project/http';\nimport { CloudProvider } from '@wix/ambassador-velo-backend-v1-app-project/types';\nimport {\n  getAppEnvironmentByName,\n  upsertAppEnvironment,\n  removeAppEnvironmentVariables,\n} from '@wix/ambassador-velo-backend-v1-app-environment/http';\nimport {\n  AppEnvironmentSchema,\n  AppProjectSchema,\n  CompleteAppDeploymentSchema,\n  CreateAppDeploymentSchema,\n  CreateAppProjectSchema,\n  StaticFileUploadSchema,\n} from './schemas.js';\n\nconst { minRetryTimeout } = getTestOverrides();\n// Velo hosting project type \"Wix CLI Headless\" - https://wix.atlassian.net/browse/FEDINF-13834\nconst APP_PROJECT_TYPE_ID_CLOUDFLARE = 'eb363dea-85a0-4159-9b05-949542be5079';\nconst APP_PROJECT_TYPE_ID_KUBERNETES = 'ad7b94c8-abc9-40f0-8be1-91dd7f3deb74';\n\nexport class BackendAsAServiceClient {\n  private readonly retryOptions: Options;\n\n  constructor(private readonly httpClient: HttpClient) {\n    this.retryOptions = {\n      retries: 3,\n      minTimeout: minRetryTimeout,\n      maxTimeout: 3 * 1000,\n    };\n  }\n\n  getAppProject = async (appId: string) => {\n    try {\n      const { data } = await pRetry(\n        () => this.httpClient.request(getAppProject({ appProjectId: appId })),\n        this.retryOptions\n      );\n      return AppProjectSchema.parse(data).appProject;\n    } catch (e) {\n      if (isHttpError(e) && e.response?.status === 404) {\n        return;\n      }\n      throw new CliError({\n        code: CliErrorCode.FailedToGetAppProject(),\n        cause: e,\n      });\n    }\n  };\n\n  createAppProject = async (\n    appId: string,\n    projectName: string,\n    cloudProvider?: CloudProvider\n  ) => {\n    try {\n      const { data } = await this.httpClient.request(\n        createAppProject({\n          appProject: {\n            id: appId,\n            displayName: projectName,\n            slug: kebabCase(projectName),\n            appProjectTypeId:\n              cloudProvider === CloudProvider.KUBERNETES\n                ? APP_PROJECT_TYPE_ID_KUBERNETES\n                : APP_PROJECT_TYPE_ID_CLOUDFLARE,\n            cloudProviderOverride: cloudProvider,\n          },\n        })\n      );\n\n      return CreateAppProjectSchema.parse(data).appProject;\n    } catch (e) {\n      throw new CliError({\n        code: CliErrorCode.FailedCreatingAppProject(),\n        cause: e,\n      });\n    }\n  };\n\n  createAppDeployment = async (\n    appId: string,\n    staticFilesMetadata: StaticFileMetadata[]\n  ) => {\n    try {\n      const { data } = await pRetry(\n        () =>\n          this.httpClient.request(\n            createAppDeployment({\n              appDeployment: {\n                appProjectId: appId,\n                staticFilesMetadata,\n              },\n            })\n          ),\n        this.retryOptions\n      );\n\n      return CreateAppDeploymentSchema.parse(data);\n    } catch (e) {\n      throw new CliError({\n        code: CliErrorCode.FailedCreatingAppDeployment(),\n        cause: e,\n      });\n    }\n  };\n\n  completeAppDeployment = async (\n    appDeployment: AppDeployment,\n    staticsCompletionToken?: string\n  ) => {\n    try {\n      const { data } = await pRetry(\n        () =>\n          this.httpClient.request(\n            completeAppDeployment({\n              appDeployment,\n              staticsCompletionToken,\n            })\n          ),\n        this.retryOptions\n      );\n\n      return CompleteAppDeploymentSchema.parse(data).appDeployment;\n    } catch (e) {\n      throw new CliError({\n        code: CliErrorCode.FailedFinalizingAppDeployment(),\n        cause: e,\n      });\n    }\n  };\n\n  postForm = async (endpointUrl: string, token: string, formData: FormData) => {\n    try {\n      const responseJson = await pRetry(\n        async () => {\n          const response = await fetch(endpointUrl, {\n            method: 'POST',\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            body: formData,\n          });\n\n          if (!response.ok) {\n            const error = await createHttpErrorFromFetch(response);\n            throw error;\n          }\n\n          return response.json();\n        },\n        { retries: 3 }\n      );\n\n      return StaticFileUploadSchema.parse(responseJson);\n    } catch (e) {\n      throw new CliError({\n        code: CliErrorCode.FailedToUploadStaticFiles(),\n        cause: e,\n        info: { endpointUrl },\n      });\n    }\n  };\n\n  putBinaryFile = async (\n    endpointUrl: string,\n    fileContent: Buffer,\n    contentType: string\n  ) => {\n    try {\n      await pRetry(\n        async () => {\n          const response = await fetch(endpointUrl, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': contentType,\n            },\n            body: fileContent,\n          });\n\n          if (!response.ok) {\n            const error = await createHttpErrorFromFetch(response);\n            throw error;\n          }\n        },\n        { retries: 3 }\n      );\n    } catch (e) {\n      throw new CliError({\n        code: CliErrorCode.FailedToUploadStaticFiles(),\n        cause: e,\n        info: { endpointUrl },\n      });\n    }\n  };\n\n  // Env management\n\n  getAppEnvironmentByName = async (appId: string, environment: string) => {\n    try {\n      const { data } = await pRetry(\n        () =>\n          this.httpClient.request(\n            getAppEnvironmentByName({\n              appProjectId: appId,\n              appEnvironmentName: environment,\n            })\n          ),\n        this.retryOptions\n      );\n\n      return AppEnvironmentSchema.parse(data).appEnvironment;\n    } catch (e) {\n      throw new CliError({\n        code: CliErrorCode.FailedToPullEnvironment(),\n        cause: e,\n      });\n    }\n  };\n\n  upsertAppEnvironment = async (\n    appId: string,\n    environment: string,\n    variables: Record<string, string>\n  ) => {\n    try {\n      const { data } = await this.httpClient.request(\n        upsertAppEnvironment({\n          appEnvironment: {\n            appProjectId: appId,\n            name: environment,\n            variables,\n          },\n        })\n      );\n\n      return AppEnvironmentSchema.parse(data).appEnvironment;\n    } catch (e) {\n      throw new CliError({\n        code: CliErrorCode.FailedToSetEnvironmentVariable(),\n        cause: e,\n      });\n    }\n  };\n\n  removeAppEnvironmentVariable = async (\n    appId: string,\n    environment: string,\n    variable: string\n  ) => {\n    try {\n      const appEnvironment = await this.getAppEnvironmentByName(\n        appId,\n        environment\n      );\n\n      const { data } = await pRetry(\n        () =>\n          this.httpClient.request(\n            removeAppEnvironmentVariables({\n              appEnvironmentId: appEnvironment.id,\n              appProjectId: appId,\n              variables: [variable],\n            })\n          ),\n        this.retryOptions\n      );\n\n      return AppEnvironmentSchema.parse(data).appEnvironment;\n    } catch (e) {\n      throw new CliError({\n        code: CliErrorCode.FailedToRemoveEnvironmentVariable(),\n        cause: e,\n      });\n    }\n  };\n}\n",null,null,null,null,"import { z } from 'zod';\nimport type { File as DeploymentFileOriginal } from '@wix/ambassador-velo-backend-v1-app-deployment/types';\nimport { CloudProvider } from '@wix/ambassador-velo-backend-v1-app-deployment/types';\n\nexport type BackendFile = Required<DeploymentFileOriginal>;\n\nconst staticFileMetadata = z.object({\n  path: z.string(),\n  hash: z.string(),\n  size: z.number().optional(),\n  contentType: z.string(),\n});\n\nexport type StaticFileMetadata = z.infer<typeof staticFileMetadata>;\n\nconst StaticFileUploadUrlSchema = z.object({\n  uploadUrl: z.string().url(),\n  staticFileMetadata,\n});\n\nconst AppDeploymentSchema = z\n  .object({\n    id: z.string().uuid(),\n    deploymentBaseUrl: z.string(),\n    cloudProviderOverride: z.nativeEnum(CloudProvider),\n  })\n  // Only required fields from AppDeployment are included,the rest are ignored for simplicity.\n  .passthrough();\n\nexport const CompleteAppDeploymentSchema = z.object({\n  appDeployment: AppDeploymentSchema,\n});\n\nexport const AppEnvironmentSchema = z.object({\n  appEnvironment: z\n    .object({\n      id: z.string(),\n      variables: z.record(z.string()),\n      secrets: z.record(z.string()),\n    })\n    .passthrough(),\n});\n\nexport type AppEnvironment = z.infer<\n  typeof AppEnvironmentSchema\n>['appEnvironment'];\n\nexport const AppProjectSchema = z.object({\n  appProject: z.object({\n    id: z.string().uuid(),\n    baseUrl: z.string().url(),\n  }),\n});\n\nexport const CreateAppProjectSchema = z.object({\n  appProject: z.object({\n    id: z.string().uuid(),\n    baseUrl: z.string().url(),\n  }),\n});\n\nexport const CreateAppDeploymentSchema = z.object({\n  staticFilesUploadUrls: z.array(StaticFileUploadUrlSchema).optional(),\n  uploadAuthToken: z.string().optional(),\n  appDeployment: AppDeploymentSchema.optional(),\n  uploadBuckets: z\n    .array(\n      z.object({\n        hashes: z.array(z.string()).optional(),\n      })\n    )\n    .optional(),\n});\n\nexport const StaticFileUploadSchema = z\n  .object({\n    result: z\n      .object({\n        // The `jwt` field is optional because it is only returned in the last file upload.\n        jwt: z.string().optional(),\n      })\n      .optional(),\n  })\n  .passthrough();\n",null,"export { useBackendAsAServiceClient } from './useBackendAsAServiceClient.js';\nexport type { BackendAsAServiceClient } from './backend-as-a-service-client.js';\nexport type {\n  AppEnvironment,\n  BackendFile,\n  StaticFileMetadata,\n} from './schemas.js';\nexport { CloudProvider } from '@wix/ambassador-velo-backend-v1-app-deployment/types';\n"],"mappings":"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","names":["_a","_a","_a","CustomDomainState","CloudProvider","WebhookIdentityType","SortOrder","_a","_a","_a","CloudProvider","DeploymentState","SortOrder","WebhookIdentityType","CloudProvider","kebabCase"]}